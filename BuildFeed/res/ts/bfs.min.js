var BuildFeed;(function(n){function r(n){n.preventDefault();const t=this;t.nextElementSibling.classList.toggle("open")}function u(n){n.preventDefault();const t=this;t.parentElement.classList.toggle("open")}function f(n){n.preventDefault();const t=this;document.cookie=`bf_theme=${t.dataset.theme}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`;location.reload(!0)}function e(n){n.preventDefault();const t=this;document.cookie=`bf_lang=${t.dataset.lang}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`;location.reload(!0)}function o(n){n.preventDefault();const t=document.getElementById("modal-search-overlay");t.classList.add("open")}function s(n){n.preventDefault();const t=document.getElementById("modal-search-overlay");t.classList.remove("open")}function h(n){n.preventDefault();n.stopPropagation()}function c(){const n=document.getElementById("modal-search-result");n.innerHTML="";typeof i!="undefined"&&clearTimeout(i);typeof t!="undefined"&&t.readyState!==XMLHttpRequest.DONE&&t.abort();i=setInterval(l,200)}function l(){typeof i!="undefined"&&clearTimeout(i);const n=document.getElementById("modal-search-input");t=new XMLHttpRequest;t.onreadystatechange=a;t.open("GET",`/api/GetSearchResult/${n.value}/`,!0);t.setRequestHeader("accept","application/json");t.send(null)}function a(){if(t.readyState===XMLHttpRequest.DONE&&t.status===200){const n=document.getElementById("modal-search-result"),r=document.getElementById("result-template"),u=jsrender.templates(r.innerHTML),f=u.render(JSON.parse(t.responseText));n.innerHTML=f;const i=n.getElementsByTagName("a");for(let n=0;n<i.length;n++)i[n].addEventListener("click",n=>{n.preventDefault();const t=document.getElementById("modal-search-input");ga("send","pageview",`/api/GetSearchResult/${t.value}/`);location.assign(n.currentTarget.href)})}}function v(){const n=document.getElementsByClassName("dropdown-parent");for(let t=0;t<n.length;t++)for(let i=0;i<n[t].childNodes.length;i++){const r=n[t].childNodes[i];r.nodeName==="A"&&r.addEventListener("click",u)}const t=document.getElementById("settings-theme-menu").getElementsByTagName("a");for(let n=0;n<t.length;n++)t[n].addEventListener("click",f);const i=document.getElementById("settings-lang-menu").getElementsByTagName("a");for(let n=0;n<i.length;n++)i[n].addEventListener("click",e);const l=document.getElementById("page-navigation-toggle");l.addEventListener("click",r);const a=document.getElementById("page-navigation-search");a.addEventListener("click",o);const v=document.getElementById("modal-search-overlay");v.addEventListener("click",s);const y=document.getElementById("modal-search");y.addEventListener("click",h);const p=document.getElementById("modal-search-input");p.addEventListener("keyup",c)}let t,i;n.MobileMenuToggle=r;n.DropdownClick=u;n.SwitchTheme=f;n.SwitchLanguage=e;n.OpenSearch=o;n.CloseSearch=s;n.StopClick=h;n.InitiateSearch=c;n.SendSearch=l;n.CompleteSearch=a;n.BuildFeedSetup=v})(BuildFeed||(BuildFeed={}));window.addEventListener("load",BuildFeed.BuildFeedSetup);